wd.path <- "~/Side_Projects/Sports/FFDraft/src/"#
#
## Dependencies:#
source(paste(wd.path, "load.R", sep=""))#
#
#
url <- "http://fantasyfootballcalculator.com/adp.php/"#
#
doc <- htmlTreeParse(url, useInternalNodes=T)
?getNodeSet
draft.stats <- getNodeSet(doc, "//div/table[@class='adp']")
draft.stats
table.stats <- lapply(draft.stats, readHTMLTable, header = FALSE)
table.stats
head(table.stats)
head(table.stats)
table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE)
head(table.stats)
our.draft.stats <- read.csv("../data/ffldraft2010.csv", header = T)
head(our.draft.stats)
n <- length(our.draft.stats)
sim.draft.stats <- getNodeSet(doc, "//div/table[@class='adp']")#
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE)
head(sim.table.stats)[[1]]
head(sim.table.stats[[1]])
?gsub
our.draft.stats$pl
head(our.draft.stats)
our.draft.stats$Player.Name
our.draft.stats$Player.Name[1:5]
tt <- our.draft.stats$Player.Name[1:5]
tt[1]
gsub(",", "", tt)
?strsplit
strsplit(tt[1], ",")
strsplit(as.character(tt[1]), ",")
strsplit(as.character(tt[1]), ",")[[1]][1]
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats[i]), ",")[[1]][1]#
  print(player)#
}
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$P[i]), ",")[[1]][1]#
  print(player)#
}
our.draft.stats$Player.Name
our.draft.stats$Player.Name[1]
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]][1]#
  print(player)#
}
n <- length(our.draft.stats$Player.Name)#
#
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]][1]#
  print(player)#
}
?match
sim.table.stats[[1]]
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE)[[1]]
head(sim.table.stats)
player <- strsplit(as.character(our.draft.stats$Player.Name[1]), ",")[[1]][1]
player
ave.rank <- sim.table.stats[sim.table.stats$Name == player, ]
ave.rank
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]][1]#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, sim.player.stats$Overall))#
}
ave,rank$Over
ave,rank$Overall
ave.rank
ave.rank$Overall
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]][1]#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, as.numeric(sim.player.stats$Overall)))#
}
player <- strsplit(as.character(our.draft.stats$Player.Name[1]), ",")[[1]][2]
player <- strsplit(as.character(our.draft.stats$Player.Name[2]), ",")[[1]][1]
player
player <- strsplit(as.character(our.draft.stats$Player.Name[3]), ",")[[1]][1]
player
sim.table.stats[sim.table.stats$Name == player, ]
sim.table.stats[sim.table.stats$Name == player, ]$Overall
as.numeric(sim.table.stats[sim.table.stats$Name == player, ]$Overall)
as.numeric(sim.table.stats[sim.table.stats$Name == player, ]$Overall[1])
sim.table.stats[sim.table.stats$Name == player, ]$Overall[1]
jj <- sim.table.stats[sim.table.stats$Name == player, ]$Overall
class(jj)
as.numeric(jj)
jj[1]
jj[[1]]
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE)[[1]]
head(sim.table.stats)
sim.table.stats$pick <- as.numeric(sim.table.stats$Overall)
head(sim.table.stats)
head(sim.table.stats$Overall)
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE,#
  stringsAsFactors = FALSE)[[1]]
head(sim.table.stats$Overall)
jj <- sim.table.stats[sim.table.stats$Name == player, ]$Overall
jj[[1]]
as.numeric(jj)
our.draft.stats <- read.csv("../data/ffldraft2010.csv", header = T)#
n <- length(our.draft.stats$Player.Name)#
#
for (i in 1:n){#
  player <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]][1]#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, as.numeric(sim.player.stats$Overall)))#
}
head(sim.table.stats)
head(our.draft.stats)
tail(our.draft.stats)
our.draft.stats
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == 'D') {#
    team <- strsplit(as.character(draftee[1]), "")[[1]][1]#
    player <- paste(team, "Defense", sep = " ")#
  }#
  print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == 'D') {#
    print(draftee)#
    # team <- strsplit(as.character(draftee[1]), "")[[1]][1]#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  print(draftee)#
  # if (draftee[2] == 'D') {#
  #   print(draftee)#
  #   # team <- strsplit(as.character(draftee[1]), "")[[1]][1]#
  #   # player <- paste(team, "Defense", sep = " ")#
  # }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    print(draftee)#
    # team <- strsplit(as.character(draftee[1]), "")[[1]][1]#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team <- strsplit(as.character(draftee[1]), "")[[1]][1]#
    player <- paste(team, "Defense", sep = " ")#
  }#
  print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team <- strsplit(as.character(draftee[1]), "")[[1]]#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team <- strsplit(as.character(draftee[1]), " ")[[1]]#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
    ifelse (length(team) == 3, team <- paste(team.str[1], team.str[2], #
      sep = ""), team <- team.str[1])#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
    # ifelse (length(team) == 3, team <- paste(team.str[1], team.str[2], #
    #   sep = ""), team <- team.str[1])#
    ifelse (length(team) == 3, print(team.str), print('foo'))#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
    ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
      sep = ""), team <- team.str[1])#
    # ifelse (length(team) == 3, print(team.str), print('foo'))#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  if (draftee[2] == ' D') {#
    # print(draftee)#
    team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
    ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
      sep = " "), team <- team.str[1])#
    # ifelse (length(team) == 3, print(team.str), print('foo'))#
    print(team)#
    # player <- paste(team, "Defense", sep = " ")#
  }#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      # print(draftee)#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      # ifelse (length(team) == 3, print(team.str), print('foo'))#
      print(team)#
      # player <- paste(team, "Defense", sep = " ")#
    }, {print(draftee[1])})#
  # print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      # print(draftee)#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      # ifelse (length(team) == 3, print(team.str), print('foo'))#
      # print(team)#
      player <- paste(team, "Defense", sep = " ")#
    }, {player <- team.str[1]})#
  print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      # print(draftee)#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      # ifelse (length(team) == 3, print(team.str), print('foo'))#
      # print(team)#
      player <- paste(team, "Defense", sep = " ")#
    }, {player <- draftee[1]})#
  print(player)#
  # sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  # print(c(player, as.numeric(sim.player.stats$Overall)))#
}
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      player <- paste(team, "Defense", sep = " ")#
    }, #
    {player <- draftee[1]}#
  )#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, as.numeric(sim.player.stats$Overall)))#
}
wd.path <- "~/Side_Projects/Sports/FFDraft/src/"#
#
## Dependencies:#
source(paste(wd.path, "load.R", sep=""))#
#
#
url <- "http://fantasyfootballcalculator.com/adp.php/"#
#
doc <- htmlTreeParse(url, useInternalNodes=T)#
sim.draft.stats <- getNodeSet(doc, "//div/table[@class='adp']")#
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE,#
  stringsAsFactors = FALSE)[[1]]#
#
our.draft.stats <- read.csv("../data/ffldraft2010.csv", header = T)#
n <- length(our.draft.stats$Player.Name)
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      player <- paste(team, "Defense", sep = " ")#
    }, #
    {player <- draftee[1]}#
  )#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, as.numeric(sim.player.stats$Overall)))#
}
?file
url <- "~/html/adp.php"
doc <- htmlTreeParse(url, useInternalNodes=T)
url <- "../html/adp.php"#
#
doc <- htmlTreeParse(url, useInternalNodes=T)
sim.draft.stats <- getNodeSet(doc, "//div/table[@class='adp']")#
sim.table.stats <- lapply(draft.stats, readHTMLTable, header = TRUE,#
  stringsAsFactors = FALSE)[[1]]
our.draft.stats <- read.csv("../data/ffldraft2010.csv", header = T)#
n <- length(our.draft.stats$Player.Name)#
#
for (i in 1:n){#
  draftee <- strsplit(as.character(our.draft.stats$Player.Name[i]), ",")[[1]]#
  ifelse(draftee[2] == ' D', {#
      team.str <- strsplit(as.character(draftee[1]), " ")[[1]]#
      ifelse (length(team.str) == 3, team <- paste(team.str[1], team.str[2], #
        sep = " "), team <- team.str[1])#
      player <- paste(team, "Defense", sep = " ")#
    }, #
    {player <- draftee[1]}#
  )#
  sim.player.stats <- sim.table.stats[sim.table.stats$Name == player, ]#
  print(c(player, as.numeric(sim.player.stats$Overall)))#
}
sim.table.stats
sim.table.stats[1:5,3:8]
sim.table.stats[1:5,3:10]
